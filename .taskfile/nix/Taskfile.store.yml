---
# Nix Store ç»´æŠ¤ç›¸å…³ä»»åŠ¡ï¼ˆè·¨å¹³å°ï¼‰

version: '3'

tasks:
  repair-store:
    desc: "ä¿®å¤ Nix Store å¯¹è±¡"
    summary: "task -g repair-store"
    vars:
      paths: '{{.paths}}'
    cmds:
      - 'echo "ğŸ”§ æ­£åœ¨ä¿®å¤ Nix Store å¯¹è±¡: {{.paths}}"'
      - nix store repair {{.paths}}

  verify-store:
    desc: "éªŒè¯ Nix Store å®Œæ•´æ€§ï¼Œæ£€æŸ¥æŸåçš„ store å¯¹è±¡"
    summary: "task -g verify-store"
    cmds:
      - echo "ğŸ” æ­£åœ¨éªŒè¯ Nix Store å®Œæ•´æ€§..."
      - nix store verify --all
      - echo "âœ… Nix Store éªŒè¯å®Œæˆ"

  gcroot:
    desc: "æ˜¾ç¤ºæ‰€æœ‰è‡ªåŠ¨ GC æ ¹ç›®å½•"
    summary: "task -g gcroot"
    cmds:
      - echo "ğŸ“‚ Nix Store è‡ªåŠ¨ GC æ ¹ç›®å½•ï¼š"
      - ls -al /nix/var/nix/gcroots/auto/
