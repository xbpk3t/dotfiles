---
version: '3'

tasks:
  connect:
    desc: websocat connect
    summary: "task -g connect URL=<url>"
    vars:
      URL: ''
    platforms: [linux, darwin]
    requires:
      vars: [URL]
    preconditions:
      - sh: command -v websocat
        msg: websocat not found
    cmds:
      - websocat {{.URL}}

  listen:
    desc: websocat listen
    summary: "task -g listen URL=<url>"
    vars:
      URL: ''
    platforms: [linux, darwin]
    requires:
      vars: [URL]
    preconditions:
      - sh: command -v websocat
        msg: websocat not found
    cmds:
      - websocat {{.URL}}
