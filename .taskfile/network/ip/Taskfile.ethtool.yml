---
version: '3'

tasks:
  stats:
    desc: ethtool stats
    summary: "task -g stats IFACE=<iface>"
    vars:
      IFACE: ''
    platforms: [linux]
    requires:
      vars: [IFACE]
    preconditions:
      - sh: command -v ethtool
        msg: ethtool not found
    cmds:
      # -S: driver stats
      - sudo ethtool -S {{.IFACE}}

  info:
    desc: ethtool info
    summary: "task -g info IFACE=<iface>"
    vars:
      IFACE: ''
    platforms: [linux]
    requires:
      vars: [IFACE]
    preconditions:
      - sh: command -v ethtool
        msg: ethtool not found
    cmds:
      - sudo ethtool {{.IFACE}}
