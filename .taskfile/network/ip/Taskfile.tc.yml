---
version: '3'

tasks:
  qdisc:
    desc: tc qdisc show
    summary: "task -g qdisc IFACE=<iface>"
    vars:
      IFACE: ''
    platforms: [linux]
    requires:
      vars: [IFACE]
    preconditions:
      - sh: command -v tc
        msg: tc not found
    cmds:
      # qdisc: queueing discipline
      - sudo tc qdisc show dev {{.IFACE}}

  class:
    desc: tc class show
    summary: "task -g class IFACE=<iface>"
    vars:
      IFACE: ''
    platforms: [linux]
    requires:
      vars: [IFACE]
    preconditions:
      - sh: command -v tc
        msg: tc not found
    cmds:
      - sudo tc class show dev {{.IFACE}}

  filter:
    desc: tc filter show
    summary: "task -g filter IFACE=<iface>"
    vars:
      IFACE: ''
    platforms: [linux]
    requires:
      vars: [IFACE]
    preconditions:
      - sh: command -v tc
        msg: tc not found
    cmds:
      - sudo tc filter show dev {{.IFACE}}
