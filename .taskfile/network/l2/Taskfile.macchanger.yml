---
version: '3'

tasks:
  show:
    desc: macchanger show current MAC
    summary: "task -g show IFACE=<iface>"
    vars:
      IFACE: ''
    platforms: [linux]
    requires:
      vars: [IFACE]
    preconditions:
      - sh: command -v macchanger
        msg: macchanger not found
    cmds:
      - sudo macchanger -s {{.IFACE}}

  random:
    desc: macchanger random MAC
    summary: "task -g random IFACE=<iface>"
    vars:
      IFACE: ''
    platforms: [linux]
    requires:
      vars: [IFACE]
    preconditions:
      - sh: command -v macchanger
        msg: macchanger not found
    cmds:
      # -r: random
      - sudo macchanger -r {{.IFACE}}

  permanent:
    desc: macchanger reset permanent MAC
    summary: "task -g permanent IFACE=<iface>"
    vars:
      IFACE: ''
    platforms: [linux]
    requires:
      vars: [IFACE]
    preconditions:
      - sh: command -v macchanger
        msg: macchanger not found
    cmds:
      # -p: reset to permanent
      - sudo macchanger -p {{.IFACE}}
