---

version: "3"



tasks:
  # ä¿®æ”¹dotboté…ç½®ä¹‹åï¼Œæ‰§è¡ŒåŒæ­¥
  apply:
    cmd: dotbot -c install.conf.yaml
    dir: '{{.USER_WORKING_DIR}}'

  clone:
    desc: ğŸ“¥ å…‹éš†æˆ–æ›´æ–° dotfiles ä»“åº“
    internal: true
    cmds:
      - |
        if [[ -d "$HOME/Desktop/dotfiles" ]]; then
          echo "ğŸ“‚ dotfiles ç›®å½•å·²å­˜åœ¨ï¼Œæ­£åœ¨æ›´æ–°..."
          git -C "$HOME/Desktop/dotfiles" pull origin main || git -C "$HOME/Desktop/dotfiles" pull origin master
        else
          echo "ğŸ“¥ å…‹éš† dotfiles ä»“åº“..."
          git clone https://github.com/xbpk3t/dotfiles.git "$HOME/Desktop/dotfiles"
        fi
    preconditions:
      - sh: command -v git
        msg: "Git æœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£… Git"
